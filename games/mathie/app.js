(()=>{"use strict";var __webpack_modules__={592:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=a(n(260)),l=n(20),u=n(542),d=n(627),f=l.Constants.get();i(void 0,void 0,void 0,(function(){var e;return s(this,(function(t){return document.title="".concat(f.app.title," v").concat(f.app.version),d.Settings.initialize(),d.Statistics.initialize(),e={type:c.AUTO,width:f.app.size.x,height:f.app.size.y,dom:{createContainer:!0},parent:"game",physics:{default:"arcade",arcade:{gravity:{y:200},debug:f.app.isDebugMode}},scale:{mode:c.Scale.FIT,autoCenter:c.Scale.CENTER_BOTH,min:{width:.25*f.app.size.x,height:.25*f.app.size.y}},scene:[u.GameScreen,u.HelpScreen,u.SettingsScreen,u.StatsScreen]},new c.Game(e),[2]}))}))},773:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createSolidColorBackground=t.loadSvg=t.loadPng=t.loadHtml=t.loadAudio=t.OPERATOR_TO_KEY_MAP=t.getRandomOperator=void 0;var l=i(n(260)),u=n(20).Constants.get(),d=Object.freeze({plus:"",minus:""}),f=c([],s(new Set(Object.keys(d))),!1),p=Object.freeze(r(r({},d),{times:"",divide:""})),y=c([],s(new Set(Object.keys(p))),!1);t.getRandomOperator=function(e){var t=e?f:y;return t[l.Math.Between(1,t.length)-1]},t.OPERATOR_TO_KEY_MAP={plus:"+",minus:"-",times:"*",divide:"/"},t.loadAudio=function(e){var t="".concat(u.assetKey.audio[e.audioId]);e.scene.load.audio(t,["".concat(t,".ogg"),"".concat(t,".mp3")])},t.loadHtml=function(e){var t="".concat(u.assetKey.html[e.htmlId]);e.scene.load.html(t,"".concat(t,".html"))},t.loadPng=function(e){var t="".concat(u.assetKey.png[e.pngId]);e.scene.load.image(t,"".concat(t,".png"))},t.loadSvg=function(e){var t="".concat(u.assetKey.svg[e.svgId]);e.scene.load.svg(t,"".concat(t,".svg"),e.size)},t.createSolidColorBackground=function(e){return e.graphics.fillStyle(e.color).fillRect(0,0,u.app.size.x,u.app.size.y)}},595:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.get=void 0;var o=n(80),a=Object.freeze({app:{constantsInitialized:!1,isDebugMode:void 0,padding:10,size:Object.freeze({x:500,y:750}),title:"Mathie",version:"".concat(o.RELEASES.CURRENT.major,".").concat(o.RELEASES.CURRENT.minor)},assetKey:Object.freeze({audio:{erase:"",error:"",gameOver:"",press:"",win:"",yes:""},html:{feedback:"",playAgain:"",stats:""},png:{correct:"",moved:"",wrong:""},svg:{backspace:"",check:"",checkBoxOn:"",checkBoxOff:"",help:"",playAgain:"",radioChecked:"",radioUnchecked:"",settings:"",stats:""}}),scenes:Object.freeze({gameScreen:"gameScreen",help:"help",stats:"stats",settings:"settings"}),storage:Object.freeze({settings:"settings",stats:"stats"}),textStyles:{}});t.get=function(){var e,t,n,o;if(!a.app.constantsInitialized){try{for(var i=r(Object.keys(a.assetKey)),s=i.next();!s.done;s=i.next()){var c=s.value,l=a.assetKey[c];try{for(var u=(n=void 0,r(Object.keys(l))),d=u.next();!d.done;d=u.next()){var f=d.value;l[f]="assets/".concat(c,"/").concat(f)}}catch(e){n={error:e}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}Object.freeze(l)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}Object.freeze(a.assetKey),a.textStyles.game={fontFamily:"Candara",color:"#000"},a.textStyles.error={fontFamily:"Helvetica",fontSize:"20px",color:"#c00"},a.textStyles.section={fontFamily:"Helvetica",fontSize:"20px",color:"#333",fontStyle:"bold"},a.textStyles.screen={fontFamily:"Helvetica",fontSize:"25px",color:"#333",fontStyle:"bold"},a.textStyles.title={fontFamily:"Helvetica",fontSize:"40px",color:"#333",fontStyle:"bold"},a.textStyles.footer={fontFamily:"Sans-serif",fontSize:"12px",color:"#888"},a.textStyles.tooltip={fontFamily:"Sans-serif",fontSize:"14px",color:"#444",wordWrap:{width:250}},a.textStyles.normal={fontFamily:"Sans-serif",fontSize:"16px",color:"#444",wordWrap:{width:a.app.size.x-2*a.app.padding}},a.textStyles.option={fontFamily:"Sans-serif",fontSize:"18px",color:"#444"},a.textStyles.closeX={fontFamily:"Sans-serif",fontSize:"22px",color:"#666"},Object.freeze(a.textStyles),a.app.constantsInitialized=!0}return void 0===a.app.isDebugMode&&(a.app.isDebugMode=document.body.classList.contains("debugMode"),Object.freeze(a.app)),a}},74:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.run=void 0;var i=n(20),s=n(627);function c(e){return e.allowNegative?-e.maxValue:0}function l(e){var t,n=[],a=s.Settings.get("allowDecimalNumbers"),l=s.Settings.get("allowNegativeNumbers"),d=s.Settings.getValue("difficulty"),f=99,p=29;0===d?(f=9,p=9):2===d&&(p=99),1===d&&Phaser.Math.Between(1,10)<=5&&(f=(t=r([p,f],2))[0],p=t[1]);var y,h=Phaser.Math.Between(c({allowNegative:l,maxValue:f}),f),g=Phaser.Math.Between(c({allowNegative:l,maxValue:p}),p);switch(e){case"plus":y=h+g;break;case"minus":y=h-g;break;case"times":y=h*g;break;case"divide":if(0===g)return n;if(a)y=+(h/g).toFixed(1);else y=h,h*=g}return!l&&y<0||(Phaser.Math.Between(1,10)<=5?n.push.apply(n,o(o(o(o(o([],r(u(h)),!1),[i.Common.OPERATOR_TO_KEY_MAP[e]],!1),r(u(g)),!1),["="],!1),r(u(y)),!1)):n.push.apply(n,o(o(o(o(o([],r(u(y)),!1),["="],!1),r(u(h)),!1),[i.Common.OPERATOR_TO_KEY_MAP[e]],!1),r(u(g)),!1))),n}function u(e){var t,n,r=[];try{for(var o=a("".concat(e)),s=o.next();!s.done;s=o.next()){var c=s.value;i.Keys.isPrintableKey(c)?r.push(c):console.error("".concat(c," is not a printable key??"))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}t.run=function(){for(var e=i.Common.getRandomOperator(s.Settings.get("onlyEasyOperator")),t=2===s.Settings.getValue("difficulty"),n=[];n.length<5||n.length>(t?11:7);)n=l(e);return n}},668:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},88:function(e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.isGameKey=t.isActionKey=t.isPrintableKey=void 0;var r=Object.freeze({0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",".":".","+":"+","-":"-","/":"/","*":"*","=":"="}),o=new Set(Object.keys(r));t.isPrintableKey=function(e){return o.has(e)};var a=Object.freeze({Backspace:"Backspace",Enter:"Enter"}),i=new Set(Object.keys(a));t.isActionKey=function(e){return i.has(e)};var s=Object.freeze(n(n({},r),a)),c=new Set(Object.keys(s));t.isGameKey=function(e){return c.has(e)}},794:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.play=t.initialize=void 0;var a=n(20),i=n(627),s=a.Constants.get(),c={isEnabled:!0,audioAsset:{}};function l(e){c.isEnabled=e}t.initialize=function(e){var t,n;try{for(var a=r(Object.entries(s.assetKey.audio)),u=a.next();!u.done;u=a.next()){var d=o(u.value,2),f=d[0],p=d[1];c.audioAsset[f]=e.sound.add(p)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}l(i.Settings.get("enableSounds"))},t.play=function(e){if(c.isEnabled){var t=c.audioAsset[e];t?t.play():console.error("".concat(e," has not been loaded in a scene"))}},t.enable=l},355:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r=n(20).Constants.get();t.create=function(e){var t,n;e.obj.on("pointerover",(function(){var o=e.obj.getBounds();t=function(e){var t=e.x,n=e.y+10,o=e.scene.add.layer(),a=e.scene.add.text(t,n,e.text,r.textStyles.tooltip).setDepth(2).setOrigin(.5,0),i=5,s=e.scene.add.rectangle(t,n,a.width+2*i,a.height+2*i,16775870,1).setDepth(1).setStrokeStyle(1,13421772).setOrigin(.5,.2);o.add(s),o.add(a),o.setAlpha(0),t+.5*s.width>r.app.size.x?(t=r.app.size.x-.5*s.width,a.x=t,s.x=t):t-.5*s.width<0&&(a.x=.5*s.width,s.x=.5*s.width);return o}({x:o.centerX,y:o.bottom,text:e.text,scene:e.scene}),n=e.scene.add.tween({targets:t,alpha:{from:0,to:1},delay:800,duration:400})})),e.obj.on("pointerout",(function(){n&&n.stop(),n=e.scene.tweens.add({targets:t,alpha:0,duration:200})}))}},80:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RELEASES=void 0,t.RELEASES=Object.freeze({FIRST:{major:2022,minor:1},V2022_2:{major:2022,minor:2},V2022_3:{major:2022,minor:3},V2022_4:{major:2022,minor:4},V2022_5:{major:2022,minor:5},V2022_6:{major:2022,minor:6},V2022_7:{major:2022,minor:7},V2022_8:{major:2022,minor:8},V2022_9:{major:2022,minor:9},V2022_10:{major:2022,minor:10},V2022_11:{major:2022,minor:11},CURRENT:{major:2022,minor:11}})},20:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.VersionHistory=t.Tooltip=t.SoundEffects=t.Keys=t.EquationGenerator=t.Common=t.Constants=void 0,a(n(668),t),t.Constants=i(n(595)),t.Common=i(n(773)),t.EquationGenerator=i(n(74)),t.Keys=i(n(88)),t.SoundEffects=i(n(794)),t.Tooltip=i(n(355)),t.VersionHistory=i(n(80))},925:function(__unused_webpack_module,exports,__webpack_require__){var __extends=this&&this.__extends||(extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},extendStatics(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),extendStatics,__assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},__assign.apply(this,arguments)},__values=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameScreen=void 0;var phaser_1=__importDefault(__webpack_require__(260)),_common_1=__webpack_require__(20),_storage_1=__webpack_require__(627),CONSTANTS=_common_1.Constants.get(),COLORS_MAP={correct:6990436,used:12429651,wrong:11184810},_={backgroundGraphics:void 0,grid:{containers:[],borderSize:2,boxSize:0,halfGridSize:0,padding:2},guesses:{attemptNumber:0,charElements:[],max:5,trying:[]},isGameOver:!1,keyboard:{keys:{},height:0},message:{text:void 0,shakeGuess:!1,shakeDuration:0},playAgain:void 0,solution:[],startTime:0},GameScreen=function(e){function t(){return e.call(this,CONSTANTS.scenes.gameScreen)||this}return __extends(t,e),t.prototype.preload=function(){var e={width:30,height:30};_common_1.Common.loadSvg({scene:this,svgId:"backspace",size:e}),_common_1.Common.loadSvg({scene:this,svgId:"check",size:e}),_common_1.Common.loadSvg({scene:this,svgId:"help"}),_common_1.Common.loadSvg({scene:this,svgId:"settings"}),_common_1.Common.loadSvg({scene:this,svgId:"stats"}),_common_1.Common.loadAudio({scene:this,audioId:"erase"}),_common_1.Common.loadAudio({scene:this,audioId:"error"}),_common_1.Common.loadAudio({scene:this,audioId:"gameOver"}),_common_1.Common.loadAudio({scene:this,audioId:"press"}),_common_1.Common.loadAudio({scene:this,audioId:"win"}),_common_1.Common.loadAudio({scene:this,audioId:"yes"}),_common_1.Common.loadHtml({scene:this,htmlId:"playAgain"}),_storage_1.Settings.get("autoScale")||(this.game.scale.scaleMode=phaser_1.default.Scale.NONE,this.game.scale.setZoom(1),this.game.scale.refresh())},t.prototype.create=function(){var e=this;_.backgroundGraphics=this.add.graphics(),_common_1.Common.createSolidColorBackground({graphics:_.backgroundGraphics,color:16777215}),_common_1.SoundEffects.initialize(this),createHeader(this),generateKeyboard(this),_.solution=_common_1.EquationGenerator.run(),generateGrid(this),_.playAgain=this.add.dom(.5*CONSTANTS.app.size.x,570).createFromCache(CONSTANTS.assetKey.html.playAgain).setOrigin(.5,0).setAlpha(0),CONSTANTS.app.isDebugMode&&console.log(_.solution.join(" ")),this.input.keyboard.on("keyup",(function(t){return onKeyPress({key:t.key,scene:e})}))},t.prototype.update=function(e,t){if(_.message.shakeGuess){var n=_.grid.containers[_.guesses.attemptNumber];n.setX(7*Math.sin(.03*e)),_.message.shakeDuration-=t,_.message.shakeDuration<=0&&(n.setX(0),_.message.shakeGuess=!1,this.tweens.add({targets:_.message.text,alpha:{value:0,duration:1e3,ease:"Quint.easeIn"}}))}},t}(phaser_1.default.Scene);function createHeader(e){e.add.text(.5*CONSTANTS.app.size.x,5,CONSTANTS.app.title.toUpperCase(),CONSTANTS.textStyles.title).setOrigin(.5,0);var t=e.add.image(10,10,CONSTANTS.assetKey.svg.help).setOrigin(0).setInteractive({cursor:"pointer"}).on("pointerup",(function(){_.playAgain.setAlpha(0),e.scene.pause(),e.scene.launch(CONSTANTS.scenes.help)}));_common_1.Tooltip.create({obj:t,text:"Help",scene:e}),e.events.on("resume",(function(){_.isGameOver&&_.playAgain.setAlpha(1)}));var n=e.add.image(CONSTANTS.app.size.x-40,10,CONSTANTS.assetKey.svg.stats).setOrigin(1,0).setInteractive({cursor:"pointer"}).on("pointerup",(function(){e.scene.pause(),e.scene.launch(CONSTANTS.scenes.stats,{})}));_common_1.Tooltip.create({obj:n,text:"Statistics",scene:e});var r=e.add.image(CONSTANTS.app.size.x-10,10,CONSTANTS.assetKey.svg.settings).setOrigin(1,0).setInteractive({cursor:"pointer"}).on("pointerup",(function(){e.scene.pause(),e.scene.launch(CONSTANTS.scenes.settings)}));_common_1.Tooltip.create({obj:r,text:"Settings",scene:e});_.backgroundGraphics.lineStyle(2,13421772),_.backgroundGraphics.lineBetween(0,60,CONSTANTS.app.size.x,60),_.message.text=e.add.text(.5*CONSTANTS.app.size.x,75,"",CONSTANTS.textStyles.error).setOrigin(.5,0),_.message.text.setAlpha(0)}function generateKeyboard(e){var t,n,r={halfX:0,halfY:0,x:CONSTANTS.app.size.x/11,y:0};r.y=1.375*r.x,r.halfX=.5*r.x,r.halfY=.5*r.y,_.keyboard.height=2*r.y;var o={halfX:0,halfY:0,x:r.x-2*_.grid.padding,y:r.y-2*_.grid.padding};o.halfX=.5*o.x,o.halfY=.5*o.y;var a=r.halfX,i=CONSTANTS.app.size.y-r.y;createKeyboardKey({x:a,y:i,key:"Enter",boxSize:o,scene:e});for(var s=0;s<10;++s){0===s?(a+=1.25*r.x,i-=.5*r.y):s%2==0?(a+=r.x,i-=r.y):i+=r.y,(u=getGameKey("".concat(s)))&&createKeyboardKey({x:a,y:i,key:u,boxSize:o,scene:e})}try{for(var c=__values(["plus","minus","times","divide"].entries()),l=c.next();!l.done;l=c.next()){var u,d=__read(l.value,2),f=d[0],p=d[1];0===f?(a+=1.25*r.x,i-=r.y):f%2==0?(a+=r.x,i-=r.y):i+=r.y,createKeyboardKey({x:a,y:i,key:u=_common_1.Common.OPERATOR_TO_KEY_MAP[p],boxSize:o,scene:e})}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}createKeyboardKey({x:a+=1.25*r.x,y:i-=r.y,key:".",boxSize:o,scene:e}),createKeyboardKey({x:a,y:i+=r.y,key:"=",boxSize:o,scene:e}),createKeyboardKey({x:a+=1.25*r.x,y:i-=.5*r.y,key:"Backspace",boxSize:o,scene:e})}function createKeyboardKey(e){var t,n={x:e.x-e.boxSize.halfX,y:e.y-e.boxSize.halfY,width:e.boxSize.x,height:e.boxSize.y};_.backgroundGraphics.fillStyle(14804200).fillRoundedRect(n.x,n.y,n.width,n.height,2*_.grid.padding),_common_1.Keys.isActionKey(e.key)?"Backspace"===e.key?t=e.scene.add.image(e.x,e.y,CONSTANTS.assetKey.svg.backspace).setOrigin(.5):"Enter"===e.key&&(t=e.scene.add.image(e.x,e.y,CONSTANTS.assetKey.svg.check).setOrigin(.5)):(t=createLetter(__assign(__assign({},e),{key:e.key})),_.keyboard.keys[e.key]={rect:n,text:t}),void 0!==t&&t.setInteractive({hitArea:new phaser_1.default.Geom.Rectangle(.5*(t.width-n.width),.5*(t.height-n.height),n.width,n.height),hitAreaCallback:phaser_1.default.Geom.Rectangle.Contains,useHandCursor:!0}).on("pointerup",(function(){onKeyPress({key:e.key,scene:e.scene})}))}function createLetter(e){var t=getDisplayCharacter(e.key);return e.scene.add.text(e.x,e.y,t,__assign(__assign({},CONSTANTS.textStyles.game),{fontSize:"".concat(.7*e.boxSize.x,"px")})).setOrigin(.5).setDepth(2)}function generateGrid(e){var t=(CONSTANTS.app.size.y-115-_.keyboard.height)/_.guesses.max,n=_.solution.length,r=Math.min(t,CONSTANTS.app.size.x/n-2*_.grid.padding);_.grid.halfGridSize=.5*r,_.grid.boxSize=r-2*_.grid.padding;for(var o=.5*_.grid.boxSize,a=105+_.grid.halfGridSize,i=0;i<_.guesses.max;++i){for(var s=[],c=_.solution.length*(r+_.grid.padding)-_.grid.padding,l=.5*(CONSTANTS.app.size.x-c)+_.grid.halfGridSize,u=e.add.container(),d=0;d<n;++d){var f=e.add.text(l,a,"",__assign(__assign({},CONSTANTS.textStyles.game),{fontSize:"".concat(o,"px")})).setOrigin(.5,.65).setAlpha(0).setDepth(2),p={boxGuess:createBox({x:l,y:a,index:d,scene:e,isGuess:!0}),boxHolder:createBox({x:l,y:a,index:d,scene:e,isGuess:!1}),isShown:!1,text:f,x:l,y:a};s.push(p),u.add(p.boxHolder),u.add(p.boxGuess),u.add(p.text),l+=r+_.grid.padding}_.grid.containers.push(u),_.guesses.charElements.push(s),a+=r}}function createBox(e){var t=e.scene.add.rectangle(e.x,e.y,_.grid.boxSize,_.grid.boxSize).setOrigin(.5).setStrokeStyle(_.grid.borderSize,e.isGuess?5592405:13421772);return e.isGuess&&(t.setAlpha(0),t.setDepth(1)),t}function getGameKey(e){if(_common_1.Keys.isGameKey(e))return e;switch(e){case"x":return"*";case"\\":return"/";case"Delete":return"Backspace"}}function onKeyPress(e){var t=getGameKey(e.key);_.isGameOver||void 0===t||("Backspace"===t?(_.guesses.trying.pop(),_common_1.SoundEffects.play("erase"),renderCharacter({show:!1,index:_.guesses.trying.length,scene:e.scene})):"Enter"===t?tryAttempt(e.scene):(addCharNumber(t),renderCharacter({show:!0,index:_.guesses.trying.length-1,scene:e.scene}),_common_1.SoundEffects.play("press")))}function showError(e){_.message.shakeGuess=!0,_.message.shakeDuration=500,_.message.text.setText(e),_.message.text.setAlpha(1),_common_1.SoundEffects.play("error")}function getDisplayCharacter(e){return"/"===e?"÷":"*"===e?"x":e}function renderCharacter(e){var t=_.guesses.charElements[_.guesses.attemptNumber][e.index];e.show!==t.isShown&&(t.isShown=e.show,t.boxGuess.setAlpha(e.show?1:0),t.text.setAlpha(e.show?1:0),e.show&&(t.text.setText(getDisplayCharacter(_.guesses.trying[e.index])),e.scene.tweens.add({targets:t.boxGuess,scale:{value:1.01,duration:100,ease:"Sine.easeInOut",yoyo:!0}}),e.scene.tweens.add({targets:t.text,scale:{value:1.4,duration:100,ease:"Sine.easeInOut",yoyo:!0}})))}function addCharNumber(e){_.guesses.trying.length!==_.solution.length&&_.guesses.trying.push(e)}function isValidEquation(){var equalsIndex=_.guesses.trying.indexOf("=");if(-1===equalsIndex||equalsIndex===_.guesses.trying.length-1)return!1;if(_.guesses.trying.includes("=",equalsIndex+1))return!1;var lhs=_.guesses.trying.slice(0,equalsIndex).join("").replace("--","+"),rhs=_.guesses.trying.slice(equalsIndex+1).join("").replace("--","+"),isValid=!1;try{var v1=eval(lhs),v2=eval(rhs);"number"==typeof v1&&"number"==typeof v2&&(isValid=+v1.toFixed(1)==+v2.toFixed(1))}catch(e){console.error(e)}return isValid}function tryAttempt(e){if(_.guesses.trying.length===_.solution.length)if(isValidEquation()){if(0===_.guesses.attemptNumber){var t=_storage_1.Statistics.get("numPlayed");_storage_1.Statistics.set({key:"numPlayed",value:t+1}),_.startTime=Date.now()}isGuessCorrect(e)?gameOver({isWin:!0,scene:e}):(++_.guesses.attemptNumber,_.guesses.trying.length=0,_.guesses.attemptNumber===_.guesses.max&&gameOver({isWin:!1,scene:e}))}else showError("Invalid Equation");else showError("Not long enough")}function isGuessCorrect(e){for(var t=getGuessColors(),n=0;n<_.guesses.trying.length;++n)flipCharacter({solutionColor:t[n],index:n,isLast:n===_.guesses.trying.length-1,scene:e});return t.every((function(e){return"correct"===e}))}function getGuessColors(){var e,t,n,r,o=Array.from({length:_.solution.length}).map((function(){return!1})),a=Array.from({length:_.solution.length}).map((function(){return"wrong"}));try{for(var i=__values(_.guesses.trying.entries()),s=i.next();!s.done;s=i.next()){var c=__read(s.value,2),l=c[0];(p=c[1])===_.solution[l]&&(o[l]=!0,a[l]="correct",_.keyboard.keys[p].solutionColor="correct")}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}var u=function(e,t){if("correct"===a[e])return"continue";var n=_.solution.findIndex((function(e,n){return!o[n]&&e===t}));-1!==n?(o[n]=!0,a[e]="used","correct"!==_.keyboard.keys[t].solutionColor&&(_.keyboard.keys[t].solutionColor="used")):"correct"!==_.keyboard.keys[t].solutionColor&&"used"!==_.keyboard.keys[t].solutionColor&&(_.keyboard.keys[t].solutionColor="wrong")};try{for(var d=__values(_.guesses.trying.entries()),f=d.next();!f.done;f=d.next()){var p,y=__read(f.value,2);u(l=y[0],p=y[1])}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return a}function flipCharacter(e){var t=_.guesses.charElements[_.guesses.attemptNumber][e.index];e.scene.tweens.add({targets:[t.text,t.boxGuess],scaleY:{value:.01,duration:250,ease:"Power1",delay:100*e.index,yoyo:!0},onYoyo:function(){t.text.setColor("#fff"),t.boxGuess.setFillStyle(COLORS_MAP[e.solutionColor]),"correct"===e.solutionColor&&_common_1.SoundEffects.play("yes")},onComplete:function(){e.isLast&&colorKeyboard()}})}function colorKeyboard(){var e,t;try{for(var n=__values(Object.values(_.keyboard.keys)),r=n.next();!r.done;r=n.next()){var o=r.value;void 0!==o.solutionColor&&(o.text.setColor("#fff"),_.backgroundGraphics.fillStyle(COLORS_MAP[o.solutionColor]).fillRoundedRect(o.rect.x,o.rect.y,o.rect.width,o.rect.height,2*_.grid.padding))}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}}function gameOver(e){if(_.isGameOver=!0,setTimeout((function(){_.playAgain.setAlpha(1)}),2e3),e.isWin)return _common_1.SoundEffects.play("win"),void setTimeout((function(){var t={numGuesses:_.guesses.attemptNumber+1,points:computePoints()};e.scene.scene.pause(),e.scene.scene.launch(CONSTANTS.scenes.stats,t)}),2e3);var t="Game Over. Equation is ".concat(_.solution.map((function(e){return getDisplayCharacter(e)})).join(""));_common_1.SoundEffects.play("gameOver"),_.message.text.setText(t).setColor("#000"),e.scene.tweens.add({targets:_.message.text,alpha:1,duration:250,ease:"Power1"})}function computePoints(){var e,t,n,r,o,a=Date.now()-_.startTime;switch(_storage_1.Settings.getValue("difficulty")){case 0:e=1.5,t=-17.9,n=49.8,r=-.001,o=300;break;case 2:e=2.5,t=-37.5,n=130,r=-.0033,o=1e3;break;default:e=2,t=-27.8,n=89.6,r=-.002,o=600}var i=Math.max(0,r*a+o);return Math.round(i+(e*_.guesses.attemptNumber*_.guesses.attemptNumber+t*_.guesses.attemptNumber+n))}exports.GameScreen=GameScreen},137:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HelpScreen=void 0;var i=a(n(260)),s=n(20),c=s.Constants.get(),l={layer:void 0,backgroundGraphics:void 0},u=function(e){function t(){return e.call(this,c.scenes.help)||this}return o(t,e),t.prototype.preload=function(){s.Common.loadPng({scene:this,pngId:"correct"}),s.Common.loadPng({scene:this,pngId:"moved"}),s.Common.loadPng({scene:this,pngId:"wrong"})},t.prototype.create=function(){var e,t,n;l.backgroundGraphics=this.add.graphics(),s.Common.createSolidColorBackground({graphics:l.backgroundGraphics,color:16777215}),l.layer=this.add.layer(l.backgroundGraphics),l.layer.setAlpha(0),e=this,t=c.app.padding,n=e.add.text(t,t,"How To Play",c.textStyles.screen).setInteractive({cursor:"default"}).setOrigin(0),l.layer.add(n),n=e.add.text(c.app.size.x-t,t,"X",c.textStyles.closeX).setOrigin(1,0).setInteractive({cursor:"pointer"}).on("pointerup",(function(){e.scene.stop(),e.scene.resume(c.scenes.gameScreen)})),l.layer.add(n),function(e){var t=c.app.padding,n=t,r=60,o=e.add.text(n,r,"Guess the math equation in 5 tries.",c.textStyles.normal);l.layer.add(o),r+=o.height+t,o=e.add.text(n,r,"Each guess must be a valid equation with an equals sign. Press the check button or the Enter key to submit.",c.textStyles.normal),l.layer.add(o),r+=o.height+t,o=e.add.text(n,r,"After each guess, the color of each box will change to show how close your guess was to the solution.",c.textStyles.normal),l.layer.add(o),r+=o.height+t,l.backgroundGraphics.lineStyle(1,13421772),l.backgroundGraphics.lineBetween(t,r,c.app.size.x-t,r),r+=t,o=e.add.text(n,r,"Examples",c.textStyles.section),l.layer.add(o),r+=o.height+t;var a=e.add.image(n,r,c.assetKey.png.correct).setOrigin(0);l.layer.add(a),r+=a.height+.25*t,o=e.add.text(n,r,"The 5 digit is in the equation and in the correct spot.",c.textStyles.normal),l.layer.add(o),r+=o.height+t,a=e.add.image(n,r,c.assetKey.png.moved).setOrigin(0),l.layer.add(a),r+=a.height+.25*t,o=e.add.text(n,r,"The 6 digit is in the equation but in the wrong spot.",c.textStyles.normal),l.layer.add(o),r+=o.height+t,a=e.add.image(n,r,c.assetKey.png.wrong).setOrigin(0),l.layer.add(a),r+=a.height+.25*t,o=e.add.text(n,r,"The 9 digit is not in the equation in any spot.",c.textStyles.normal),l.layer.add(o),r+=o.height+t,l.backgroundGraphics.lineStyle(1,13421772),l.backgroundGraphics.lineBetween(t,r,c.app.size.x-t,r),r+=t,o=e.add.text(n,r,"Tips",c.textStyles.section),l.layer.add(o),r+=o.height+t,o=e.add.text(n,r,"The same digit can appear in the equation more than once.",c.textStyles.normal),l.layer.add(o),r+=o.height+t,o=e.add.text(n,r,"The form of the equation will always be\n# operator # = #\nor\n# = # operator #",c.textStyles.normal),l.layer.add(o),r+=o.height+t,o=e.add.text(n,r,"Your guesses do not have to always be in the solution form, but they do need to be a valid equation.",c.textStyles.normal),l.layer.add(o),r+=o.height+t,o=e.add.text(n,r,"All fraction values are rounded to one decimal place.",c.textStyles.normal),l.layer.add(o)}(this),this.tweens.add({targets:l.layer,alpha:1,duration:200})},t}(i.default.Scene);t.HelpScreen=u},554:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsScreen=void 0;var s=i(n(260)),c=n(20),l=n(627),u=c.Constants.get(),d={layer:void 0,backgroundGraphics:void 0,message:void 0},f=function(e){function t(){return e.call(this,u.scenes.settings)||this}return o(t,e),t.prototype.preload=function(){var e={width:25,height:25};c.Common.loadSvg({scene:this,svgId:"checkBoxOn",size:e}),c.Common.loadSvg({scene:this,svgId:"checkBoxOff",size:e}),c.Common.loadSvg({scene:this,svgId:"radioChecked",size:e}),c.Common.loadSvg({scene:this,svgId:"radioUnchecked",size:e}),c.Common.loadHtml({scene:this,htmlId:"feedback"})},t.prototype.create=function(){var e,t,n;d.backgroundGraphics=this.add.graphics(),c.Common.createSolidColorBackground({graphics:d.backgroundGraphics,color:16777215}),d.layer=this.add.layer(d.backgroundGraphics),d.layer.setAlpha(0),e=this,t=u.app.padding,n=e.add.text(t,t,"Settings",u.textStyles.screen).setOrigin(0),d.layer.add(n),n=e.add.text(u.app.size.x-t,t,"X",u.textStyles.closeX).setOrigin(1,0).setInteractive({cursor:"pointer"}).on("pointerup",(function(){e.scene.stop(),e.scene.resume(u.scenes.gameScreen)})),d.layer.add(n),function(e){var t=30,n=10,r=60;p({x:n,y:r,key:"autoScale",text:"Auto-Scale Game Size",action:function(t){return e.game.scale.scaleMode=t?s.default.Scale.FIT:s.default.Scale.NONE,t||e.game.scale.setZoom(1),e.game.scale.refresh(),!0},scene:e}),p({x:n,y:r+=t,key:"enableSounds",text:"Enable Sounds",action:function(e){return c.SoundEffects.enable(e),!0},scene:e}),p({x:n,y:r+=1.5*t,key:"onlyEasyOperator",text:"Only Use + or - Operators",action:function(){return h(e),!0},scene:e}),p({x:n,y:r+=t,key:"allowNegativeNumbers",text:"Allow Negative Values",action:function(){return h(e),!0},scene:e}),p({x:n,y:r+=t,key:"allowDecimalNumbers",text:"Allow Decimal Values",action:function(){return h(e),!0},scene:e}),r=function(e){var t=l.Settings.getValue("difficulty"),n=e.scene.add.text(e.x,e.y,e.text,u.textStyles.option).setOrigin(0,.5);d.layer.add(n);var r=e.x+5,o=e.y+30,a=y({x:r,y:o,text:"Easy",isSet:0===t,action:function(){return f(0)},scene:e.scene}),i=y({x:r,y:o+=30,text:"Normal",isSet:1===t,action:function(){return f(1)},scene:e.scene}),s=y({x:r,y:o+=30,text:"Hard",isSet:2===t,action:function(){return f(2)},scene:e.scene});function f(t){l.Settings.setValue({key:"difficulty",value:t}),a.setTexture(0===t?u.assetKey.svg.radioChecked:u.assetKey.svg.radioUnchecked),i.setTexture(1===t?u.assetKey.svg.radioChecked:u.assetKey.svg.radioUnchecked),s.setTexture(2===t?u.assetKey.svg.radioChecked:u.assetKey.svg.radioUnchecked),c.SoundEffects.play("press"),h(e.scene)}return o}({x:n,y:r+=1.5*t,text:"Difficulty",scene:e}),r+=2.5*t,d.message=e.add.text(.5*u.app.size.x,r,"New game settings will be used\nat the start of the next game",a(a({},u.textStyles.error),{align:"center"})).setOrigin(.5,0).setAlpha(0),d.layer.add(d.message),r+=2*t+d.message.height,d.backgroundGraphics.lineStyle(2,13421772),d.backgroundGraphics.lineBetween(0,r,u.app.size.x,r),r+=20,d.layer.add(e.add.dom(.5*u.app.size.x,r).createFromCache(u.assetKey.html.feedback).setOrigin(.5,0))}(this),function(e){var t=u.app.size.y-5,n=e.add.text(10,t,"(c) 2022 Marek A. Krzeminski. All Rights Reserved",u.textStyles.footer).setOrigin(0,1);d.layer.add(n),n=e.add.text(u.app.size.x-10,t,"v".concat(u.app.version),u.textStyles.footer).setOrigin(1,1),d.layer.add(n)}(this),this.tweens.add({targets:d.layer,alpha:1,duration:200})},t}(s.default.Scene);function p(e){var t=l.Settings.get(e.key),n=e.scene.add.image(e.x,e.y,t?u.assetKey.svg.checkBoxOn:u.assetKey.svg.checkBoxOff).setOrigin(0,.5).setInteractive({useHandCursor:!0}).on("pointerup",(function(){o()}));d.layer.add(n);var r=e.scene.add.text(e.x+n.width+5,e.y,e.text,u.textStyles.option).setOrigin(0,.5).setInteractive({useHandCursor:!0}).on("pointerup",(function(){o()}));function o(){var t=!l.Settings.get(e.key);e.action(t)&&(l.Settings.set({key:e.key,value:t}),n.setTexture(t?u.assetKey.svg.checkBoxOn:u.assetKey.svg.checkBoxOff),c.SoundEffects.play("press"))}d.layer.add(r)}function y(e){var t=e.scene.add.image(e.x,e.y,e.isSet?u.assetKey.svg.radioChecked:u.assetKey.svg.radioUnchecked).setOrigin(0,.5).setInteractive({useHandCursor:!0}).on("pointerup",(function(){e.action()}));d.layer.add(t);var n=e.scene.add.text(e.x+t.width+5,e.y,e.text,u.textStyles.option).setOrigin(0,.5).setInteractive({useHandCursor:!0}).on("pointerup",(function(){e.action()}));return d.layer.add(n),t}function h(e){0===d.message.alpha&&e.tweens.add({targets:d.message,alpha:{value:1,duration:500,ease:"Quint.easeIn"}})}t.SettingsScreen=f},620:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsScreen=void 0;var c=s(n(260)),l=n(20),u=n(627),d=l.Constants.get(),f={backgroundGraphics:void 0,layer:void 0,winner:{guesses:0,points:0}},p=function(e){function t(){return e.call(this,d.scenes.stats)||this}return o(t,e),t.prototype.init=function(e){var t,n;f.winner={guesses:null!==(t=e.numGuesses)&&void 0!==t?t:0,points:null!==(n=e.points)&&void 0!==n?n:0}},t.prototype.preload=function(){l.Common.loadHtml({scene:this,htmlId:"stats"})},t.prototype.create=function(){var e,t,n;f.backgroundGraphics=this.add.graphics(),l.Common.createSolidColorBackground({graphics:f.backgroundGraphics,color:16777215}),f.layer=this.add.layer(f.backgroundGraphics),f.layer.setAlpha(0),e=this,t=d.app.padding,n=e.add.text(t,t,"Statistics",d.textStyles.screen).setInteractive({cursor:"default"}),f.layer.add(n),n=e.add.text(d.app.size.x-t,t,"X",d.textStyles.closeX).setOrigin(1,0).setInteractive({cursor:"pointer"}).on("pointerup",(function(){e.scene.stop(),e.scene.resume(d.scenes.gameScreen)})),f.layer.add(n),function(e){var t,n,r,o,s=d.app.padding,c=s,p=60,y=e.add.text(.5*d.app.size.x,p,"",a(a({},d.textStyles.section),{align:"center",color:"#469b46"})).setOrigin(.5,0);f.layer.add(y),f.winner.points>0&&(y.setText("You Won ".concat(f.winner.points," points!")),p+=s);p+=y.height+s,c=.5*d.app.size.x;var h=e.add.dom(c,p).createFromCache(d.assetKey.html.stats).setOrigin(.5,0);function g(e){var t=h.getChildByID(e);if(t instanceof HTMLElement)return t;throw new ReferenceError("could not find element with id=".concat(e))}var _=g("totalScore");_.textContent="".concat(u.Statistics.get("totalScore"));var m=0,v=0,b=["guess1","guess2","guess3","guess4","guess5"];try{for(var x=i(b),S=x.next();!S.done;S=x.next()){var O=S.value,w=u.Statistics.get(O);g(O).textContent="".concat(w);var k=0;O==="guess".concat(f.winner.guesses)&&++k,m=Math.max(m,w+k),v+=w+k}}catch(e){t={error:e}}finally{try{S&&!S.done&&(n=x.return)&&n.call(x)}finally{if(t)throw t.error}}var C=u.Statistics.get("numPlayed");C<v&&(C=v,u.Statistics.set({key:"numPlayed",value:C}));g("numPlayed").textContent="".concat(C);var j=C-v,T=g("lost");function A(e){return 25+Math.floor(341*e/m)}T.textContent="".concat(j),m=Math.max(m,j),g("percentWon").textContent="".concat(C>0?Math.trunc(100*v/C):0,"%");var z=1500,N=function(t){var n=u.Statistics.get(t),r=A(n),o=g(t);if(o.style.width="".concat(r,"px"),t==="guess".concat(f.winner.guesses)){var a=n+1;e.tweens.addCounter({from:r,to:A(a),duration:z,onUpdate:function(e){o.style.width="".concat(e.getValue(),"px")},onComplete:function(){o.textContent="".concat(a),l.SoundEffects.play("yes")}}),u.Statistics.set({key:t,value:a})}};try{for(var P=i(b),E=P.next();!E.done;E=P.next()){N(O=E.value)}}catch(e){r={error:e}}finally{try{E&&!E.done&&(o=P.return)&&o.call(P)}finally{if(r)throw r.error}}var G=A(j);if(T.style.width="".concat(G,"px"),f.winner.points>0){var K=u.Statistics.get("totalScore"),M=K+f.winner.points;e.tweens.addCounter({from:K,to:M,duration:z,onUpdate:function(e){_.textContent="".concat(Math.floor(e.getValue()))},onComplete:function(){_.textContent="".concat(M)}}),u.Statistics.set({key:"totalScore",value:M})}}(this),this.tweens.add({targets:f.layer,alpha:1,duration:200})},t}(c.default.Scene);t.StatsScreen=p},542:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(925),t),o(n(137),t),o(n(554),t),o(n(620),t)},483:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.setValue=t.getValue=t.set=t.get=t.initialize=void 0;var a=n(20).Constants.get(),i={bool:r({},{autoScale:!0,enableSounds:!0,allowNegativeNumbers:!0,allowDecimalNumbers:!0,onlyEasyOperator:!1}),num:r({},{difficulty:1})};function s(){var e=JSON.stringify(i);localStorage.setItem("".concat(a.app.title,":").concat(a.storage.settings),e)}t.initialize=function(){var e,t,n,r,c={};try{var l=localStorage.getItem("".concat(a.app.title,":").concat(a.storage.settings));l&&(c=JSON.parse(l))}catch(e){console.error(e)}var u=!1;try{for(var d=o(Object.keys(i.bool)),f=d.next();!f.done;f=d.next()){var p=f.value,y=c.bool;u||void 0!==y&&void 0!==y[p]||(u=!0),y&&void 0!==y[p]&&(i.bool[p]=y[p])}}catch(t){e={error:t}}finally{try{f&&!f.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}try{for(var h=o(Object.keys(i.num)),g=h.next();!g.done;g=h.next()){p=g.value;var _=c.num;u||void 0!==_&&void 0!==_[p]||(u=!0),_&&void 0!==_[p]&&(i.num[p]=_[p])}}catch(e){n={error:e}}finally{try{g&&!g.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}u&&s()},t.get=function(e){return i.bool[e]},t.set=function(e){i.bool[e.key]=e.value,s()},t.getValue=function(e){return i.num[e]},t.setValue=function(e){i.num[e.key]=e.value,s()}},477:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.set=t.get=t.initialize=void 0;var a=n(20).Constants.get(),i=r({},{guess1:0,guess2:0,guess3:0,guess4:0,guess5:0,numPlayed:0,totalScore:0});function s(){var e=JSON.stringify(i);localStorage.setItem("".concat(a.app.title,":").concat(a.storage.stats),e)}t.initialize=function(){var e,t,n={};try{var r=localStorage.getItem("".concat(a.app.title,":").concat(a.storage.stats));r&&(n=JSON.parse(r))}catch(e){console.error(e)}var c=!1;try{for(var l=o(Object.keys(i)),u=l.next();!u.done;u=l.next()){var d=u.value,f=n[d];c||void 0!==f||(c=!0),void 0!==f&&(i[d]=f)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}c&&s()},t.get=function(e){return i[e]},t.set=function(e){i[e.key]=e.value,s()}},627:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Statistics=t.Settings=void 0,t.Settings=a(n(483)),t.Statistics=a(n(477))}},__webpack_module_cache__={},deferred;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(e,t,n,r)=>{if(!t){var o=1/0;for(c=0;c<deferred.length;c++){for(var[t,n,r]=deferred[c],a=!0,i=0;i<t.length;i++)(!1&r||o>=r)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](t[i])))?t.splice(i--,1):(a=!1,r<o&&(o=r));if(a){deferred.splice(c--,1);var s=n();void 0!==s&&(e=s)}}return e}r=r||0;for(var c=deferred.length;c>0&&deferred[c-1][2]>r;c--)deferred[c]=deferred[c-1];deferred[c]=[t,n,r]},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={143:0};__webpack_require__.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[a,i,s]=n,c=0;if(a.some((t=>0!==e[t]))){for(r in i)__webpack_require__.o(i,r)&&(__webpack_require__.m[r]=i[r]);if(s)var l=s(__webpack_require__)}for(t&&t(n);c<a.length;c++)o=a[c],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[a[c]]=0;return __webpack_require__.O(l)},n=self.webpackChunkmathie=self.webpackChunkmathie||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__=__webpack_require__.O(void 0,[736],(()=>__webpack_require__(592)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();